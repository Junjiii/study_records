## HTTP - 기본

## HTTP ( HyperText Transfer Protocol)

- HTML , TEXT
- Image, 음성 , 영상 , 파일
- JSON, XML ( API )
- 거의 모든 형태의 데이터 전송 가능
- 서버간에 데이터를 주고 받을 때도 대부분 HTTP 사용

### 역사

- HTTP/0.9 1991년: GET 메서드만 지원, HTTP 헤더X
- HTTP/1.0 1996년: 메서드, 헤더 추가
- **HTTP/1.1 1997년: 가장 많이 사용, 우리에게 가장 중요한 버전**
- RFC2068 (1997) -> RFC2616 (1999) -> RFC7230~7235 (2014)
- HTTP/2 2015년: 성능 개선
- HTTP/3 진행중: TCP 대신에 UDP 사용, 성능 개선

### 기반 프로토콜

- **TCP:** HTTP/1.1, HTTP/2
- **UDP:** HTTP/3
- 현재 HTTP/1.1 주로 사용
- HTTP/2, HTTP/3 도 점점 증가

### 특징

- 클라이언트 서버 구조
- 무상태 프로토콜 ( stateless ), 비연결성
- HTTP 메세지
- 단순함 , 확장 가능

## Stateful, Stateless 차이

### 무상태 프로토콜 - stateless 지향

- 서버가 클라이언트의 상태를 보존 X
- 장점 : 서버 확장성 높은 (스케일 아웃 )
- 단점 : 클라이언트가 추가 데이터 전송

stateful : 상태 유지 , 중간에 다른 서버로 바뀌면 클라이언트의 정보를 가지고 있지 않아 소통의 오류가 생긴다. 따라서 항상 같은 서버가 유지되어야한다.

stateless : 상태 유지 X , 중간에 다른 서버로 바뀌어도 Request 마다 필요한 정보를 다 전달해주기 때문에 오류가 날 수 없다. 이것은 갑자기 클라이언트의 요청이 증가해도 서버를 대거 투입할 수 있는 확장성이 장점이다.

따라서 무상태는 응답 서버를 쉽게 바꿀 수 있다. → 무한한 서버 증설 가능

### stateless 실무의 한계

- 모든 것을 무상태로 설계할 수 있는 경우 없는 경우가 나뉜다.
- 무상태 : 로그인이 필요없는 단순한 서비스 화면 , 전송되는 데이터의 양이 상태유지보다 많다.
- 상태유지 : 로그인한 사용자에 한한 서비스 화면 , 일반적으로 브라우저 쿠키와 서버 세셴 등을 사용해 상태 유지 , 상태 유지는 최소한만 유지한다.

### 비연결성 (connectionless)

- HTTP 는 기본 연결을 유지하지 않는 모델이다.
- 일반적으로 초 단위의 이하의 빠른 속도로 응답
- 1시간 동안 수천명이 서비스를 사용해도 실제 서버에서 동시에 처리하는 요청은 수십개 이하로 매우 매우 작음
- 서버 자원을 매우 효율적으로 사용할 수 있다.

한계

- TCP/IP 연결을 새로 맺어야함 ( 3 way handshake 시간 추가 )
- 웹브라우저로 사이트를 요청하면 HTML 뿐만 아니라 자바스크립트, css , 추가 이미지 등
- 지금은 HTTP 지속연결 ( Persistent Connections) 로 문제 해결
